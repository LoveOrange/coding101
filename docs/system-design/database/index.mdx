---
sidebar_position: 2
draft: true
---

# 索引

## 1. 为什么要有索引

:::tip 索引的定义
索引是数据库中的一种**数据结构**，用于提高查询效率。
:::

### 1.1. 没有索引的情况

假设这个世界没有索引。对于一张有一百万条记录的 `User` 表来说，如果我们要找到一条 `user_id = 1234` 的记录，那么我们需要对整个表进行遍历，直到找到位置，显然这个时间复杂度是 `O(n)`。

当然对于有顺序的 `id` 字段来说，我们可以使用类似二分查找的算法提高查询效率。但是在实际的数据库使用场景中，我们还会面临诸如“按照姓名查询”、“按照创建时间查询”等多种的查询条件，有的查询情况只能去扫描全部的数据记录。在面对数据规模很大的表时，二分查找的性能也会急剧下降。

### 1.2. 索引的定义

为了解决查询效率的问题，数据库引入了索引的概念。索引是数据库中的一种数据结构，用于提高查询效率。

既然是一种数据结构，那么索引本身也相当于数据库保存的额外数据。与数据表中的原始数据一样，索引中的数据也会保存在磁盘上，只是特殊的数据结构，让索引在面对查询请求时能有更好的查询效率。

## 2. 索引的数据结构

接下来就详细介绍一下索引所使用的数据结构

### 2.1. B+ 树

### 2.2. 哈希索引

### 2.3.

## 3. 索引的种类

:::tip 索引的种类
根据不同的查询需求，索引也分为不同的种类：

- 主键索引
- 普通索引
- 唯一索引
- 联合索引
:::

## 3. 索引的实现

:::tip B+ 树
最常用的索引是主键索引，它使用 B+ 树来实现。
:::

## 4. 索引的优化